{"ast":null,"code":"var _jsxFileName = \"/Volumes/Olina Wu/React projects/Team-Reactor/src/Chat/Chatbox.js\";\nimport React, { useContext } from 'react';\nimport FirebaseContext from '../Firebase';\n\nclass Chatbox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chatID: 'T5O5rvqkXjOTTNzgClyK',\n      chats: []\n    };\n  }\n\n  componentDidMount() {\n    const firebase = useContext(FirebaseContext);\n    var docRef = firebase.db.collection('messages').doc(this.state.chatID);\n    docRef.get().then(function (doc) {\n      if (doc.exists) {\n        const data = loc.data();\n      } else {\n        // doc.data() will be undefined in this case\n        console.log('No such document!');\n      }\n    }).catch(function (error) {\n      console.log('Error getting document:', error);\n    });\n    console.log(data);\n    /*\n    chatRef.on('value', (snapshot) => {\n    \tconst getChats = snapshot.val();\n    \tlet ascChats = [];\n    \tfor (let chat in getChats) {\n    \t\tif (getChats[chat].message !== '') {\n    \t\t\tascChats.push({\n    \t\t\t\tid: chat,\n    \t\t\t\tmessage: getChats[chat].message,\n    \t\t\t\tuser: getChats[chat].user,\n    \t\t\t\tdate: getChats[chat].timestamp,\n    \t\t\t});\n    \t\t}\n    \t}\n    \tconst chats = ascChats.reverse();\n    \tthis.setState({ chats });\n    });*/\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chatbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"chat-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }\n    }, this.state.chats.map(chat => {\n      const postDate = new Date(chat.date);\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: chat.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(\"em\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }\n      }, postDate.getDate() + '/' + (postDate.getMonth() + 1)), /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }\n      }, chat.user, \":\"), chat.message);\n    })));\n  }\n\n}\n\nexport default Chatbox;","map":{"version":3,"sources":["/Volumes/Olina Wu/React projects/Team-Reactor/src/Chat/Chatbox.js"],"names":["React","useContext","FirebaseContext","Chatbox","Component","constructor","props","state","chatID","chats","componentDidMount","firebase","docRef","db","collection","doc","get","then","exists","data","loc","console","log","catch","error","render","map","chat","postDate","Date","date","id","getDate","getMonth","user","message"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,eAAP,MAA4B,aAA5B;;AAEA,MAAMC,OAAN,SAAsBH,KAAK,CAACI,SAA5B,CAAsC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACZC,MAAAA,MAAM,EAAE,sBADI;AAEZC,MAAAA,KAAK,EAAE;AAFK,KAAb;AAIA;;AAEDC,EAAAA,iBAAiB,GAAG;AACnB,UAAMC,QAAQ,GAAGV,UAAU,CAACC,eAAD,CAA3B;AACA,QAAIU,MAAM,GAAGD,QAAQ,CAACE,EAAT,CAAYC,UAAZ,CAAuB,UAAvB,EAAmCC,GAAnC,CAAuC,KAAKR,KAAL,CAAWC,MAAlD,CAAb;AACAI,IAAAA,MAAM,CACJI,GADF,GAEEC,IAFF,CAEO,UAAUF,GAAV,EAAe;AACpB,UAAIA,GAAG,CAACG,MAAR,EAAgB;AACf,cAAMC,IAAI,GAAGC,GAAG,CAACD,IAAJ,EAAb;AACA,OAFD,MAEO;AACN;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA;AACD,KATF,EAUEC,KAVF,CAUQ,UAAUC,KAAV,EAAiB;AACvBH,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCE,KAAvC;AACA,KAZF;AAcAH,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AAEA;;;;;;;;;;;;;;;;;AAiBA;;AAEDM,EAAAA,MAAM,GAAG;AACR,wBACC;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAI,MAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKlB,KAAL,CAAWE,KAAX,CAAiBiB,GAAjB,CAAsBC,IAAD,IAAU;AAC/B,YAAMC,QAAQ,GAAG,IAAIC,IAAJ,CAASF,IAAI,CAACG,IAAd,CAAjB;AACA,0BACC;AAAI,QAAA,GAAG,EAAEH,IAAI,CAACI,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKH,QAAQ,CAACI,OAAT,KAAqB,GAArB,IAA4BJ,QAAQ,CAACK,QAAT,KAAsB,CAAlD,CAAL,CADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAASN,IAAI,CAACO,IAAd,MAFD,EAGEP,IAAI,CAACQ,OAHP,CADD;AAOA,KATA,CADF,CADD,CADD;AAgBA;;AAjEoC;;AAmEtC,eAAehC,OAAf","sourcesContent":["import React, { useContext } from 'react';\nimport FirebaseContext from '../Firebase';\n\nclass Chatbox extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tchatID: 'T5O5rvqkXjOTTNzgClyK',\n\t\t\tchats: [],\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst firebase = useContext(FirebaseContext);\n\t\tvar docRef = firebase.db.collection('messages').doc(this.state.chatID);\n\t\tdocRef\n\t\t\t.get()\n\t\t\t.then(function (doc) {\n\t\t\t\tif (doc.exists) {\n\t\t\t\t\tconst data = loc.data();\n\t\t\t\t} else {\n\t\t\t\t\t// doc.data() will be undefined in this case\n\t\t\t\t\tconsole.log('No such document!');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.log('Error getting document:', error);\n\t\t\t});\n\n\t\tconsole.log(data);\n\n\t\t/*\n\t\tchatRef.on('value', (snapshot) => {\n\t\t\tconst getChats = snapshot.val();\n\t\t\tlet ascChats = [];\n\t\t\tfor (let chat in getChats) {\n\t\t\t\tif (getChats[chat].message !== '') {\n\t\t\t\t\tascChats.push({\n\t\t\t\t\t\tid: chat,\n\t\t\t\t\t\tmessage: getChats[chat].message,\n\t\t\t\t\t\tuser: getChats[chat].user,\n\t\t\t\t\t\tdate: getChats[chat].timestamp,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst chats = ascChats.reverse();\n\t\t\tthis.setState({ chats });\n\t\t});*/\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='chatbox'>\n\t\t\t\t<ul className='chat-list'>\n\t\t\t\t\t{this.state.chats.map((chat) => {\n\t\t\t\t\t\tconst postDate = new Date(chat.date);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={chat.id}>\n\t\t\t\t\t\t\t\t<em>{postDate.getDate() + '/' + (postDate.getMonth() + 1)}</em>\n\t\t\t\t\t\t\t\t<strong>{chat.user}:</strong>\n\t\t\t\t\t\t\t\t{chat.message}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default Chatbox;\n"]},"metadata":{},"sourceType":"module"}