{"ast":null,"code":"var _jsxFileName = \"/Volumes/Olina Wu/React projects/Team-Reactor/src/Chat/Chatbox.js\";\nimport React from 'react';\nimport firebase from '../../firebase';\n\nclass Chatbox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chats: []\n    };\n  }\n\n  componentDidMount() {\n    const chatRef = firebase.database().ref('general');\n    chatRef.on('value', snapshot => {\n      const getChats = snapshot.val();\n      let ascChats = [];\n\n      for (let chat in getChats) {\n        if (getChats[chat].message !== '') {\n          ascChats.push({\n            id: chat,\n            message: getChats[chat].message,\n            user: getChats[chat].user,\n            date: getChats[chat].timestamp\n          });\n        }\n      }\n\n      const chats = ascChats.reverse();\n      this.setState({\n        chats\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chatbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"chat-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 5\n      }\n    }, this.state.chats.map(chat => {\n      const postDate = new Date(chat.date);\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: chat.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(\"em\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }\n      }, postDate.getDate() + '/' + (postDate.getMonth() + 1)), /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 9\n        }\n      }, chat.user, \":\"), chat.message);\n    })));\n  }\n\n}\n\nexport default Chatbox;","map":{"version":3,"sources":["/Volumes/Olina Wu/React projects/Team-Reactor/src/Chat/Chatbox.js"],"names":["React","firebase","Chatbox","Component","constructor","props","state","chats","componentDidMount","chatRef","database","ref","on","snapshot","getChats","val","ascChats","chat","message","push","id","user","date","timestamp","reverse","setState","render","map","postDate","Date","getDate","getMonth"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB;;AAEA,MAAMC,OAAN,SAAsBF,KAAK,CAACG,SAA5B,CAAsC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACZC,MAAAA,KAAK,EAAE;AADK,KAAb;AAGA;;AACDC,EAAAA,iBAAiB,GAAG;AACnB,UAAMC,OAAO,GAAGR,QAAQ,CAACS,QAAT,GAAoBC,GAApB,CAAwB,SAAxB,CAAhB;AACAF,IAAAA,OAAO,CAACG,EAAR,CAAW,OAAX,EAAqBC,QAAD,IAAc;AACjC,YAAMC,QAAQ,GAAGD,QAAQ,CAACE,GAAT,EAAjB;AACA,UAAIC,QAAQ,GAAG,EAAf;;AACA,WAAK,IAAIC,IAAT,IAAiBH,QAAjB,EAA2B;AAC1B,YAAIA,QAAQ,CAACG,IAAD,CAAR,CAAeC,OAAf,KAA2B,EAA/B,EAAmC;AAClCF,UAAAA,QAAQ,CAACG,IAAT,CAAc;AACbC,YAAAA,EAAE,EAAEH,IADS;AAEbC,YAAAA,OAAO,EAAEJ,QAAQ,CAACG,IAAD,CAAR,CAAeC,OAFX;AAGbG,YAAAA,IAAI,EAAEP,QAAQ,CAACG,IAAD,CAAR,CAAeI,IAHR;AAIbC,YAAAA,IAAI,EAAER,QAAQ,CAACG,IAAD,CAAR,CAAeM;AAJR,WAAd;AAMA;AACD;;AACD,YAAMhB,KAAK,GAAGS,QAAQ,CAACQ,OAAT,EAAd;AACA,WAAKC,QAAL,CAAc;AAAElB,QAAAA;AAAF,OAAd;AACA,KAfD;AAgBA;;AACDmB,EAAAA,MAAM,GAAG;AACR,wBACC;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAI,MAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKpB,KAAL,CAAWC,KAAX,CAAiBoB,GAAjB,CAAsBV,IAAD,IAAU;AAC/B,YAAMW,QAAQ,GAAG,IAAIC,IAAJ,CAASZ,IAAI,CAACK,IAAd,CAAjB;AACA,0BACC;AAAI,QAAA,GAAG,EAAEL,IAAI,CAACG,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKQ,QAAQ,CAACE,OAAT,KAAqB,GAArB,IAA4BF,QAAQ,CAACG,QAAT,KAAsB,CAAlD,CAAL,CADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAASd,IAAI,CAACI,IAAd,MAFD,EAGEJ,IAAI,CAACC,OAHP,CADD;AAOA,KATA,CADF,CADD,CADD;AAgBA;;AA3CoC;;AA6CtC,eAAehB,OAAf","sourcesContent":["import React from 'react';\nimport firebase from '../../firebase';\n\nclass Chatbox extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tchats: [],\n\t\t};\n\t}\n\tcomponentDidMount() {\n\t\tconst chatRef = firebase.database().ref('general');\n\t\tchatRef.on('value', (snapshot) => {\n\t\t\tconst getChats = snapshot.val();\n\t\t\tlet ascChats = [];\n\t\t\tfor (let chat in getChats) {\n\t\t\t\tif (getChats[chat].message !== '') {\n\t\t\t\t\tascChats.push({\n\t\t\t\t\t\tid: chat,\n\t\t\t\t\t\tmessage: getChats[chat].message,\n\t\t\t\t\t\tuser: getChats[chat].user,\n\t\t\t\t\t\tdate: getChats[chat].timestamp,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst chats = ascChats.reverse();\n\t\t\tthis.setState({ chats });\n\t\t});\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className='chatbox'>\n\t\t\t\t<ul className='chat-list'>\n\t\t\t\t\t{this.state.chats.map((chat) => {\n\t\t\t\t\t\tconst postDate = new Date(chat.date);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={chat.id}>\n\t\t\t\t\t\t\t\t<em>{postDate.getDate() + '/' + (postDate.getMonth() + 1)}</em>\n\t\t\t\t\t\t\t\t<strong>{chat.user}:</strong>\n\t\t\t\t\t\t\t\t{chat.message}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default Chatbox;\n"]},"metadata":{},"sourceType":"module"}