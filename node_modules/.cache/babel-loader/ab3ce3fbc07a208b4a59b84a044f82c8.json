{"ast":null,"code":"var _jsxFileName = \"/Users/Ethan/Documents/GitHub/Team-Reactor/src/AddFriendModal.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport FirebaseContext from './Firebase';\nimport AuthContext from './Firebase/AuthContext';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Formik, Form, Field } from 'formik';\nimport { Card, Modal, Button, Badge } from 'react-bootstrap';\n\nfunction AddFriend(props) {\n  // pass in the user's id and handleHide function\n  const firebase = useContext(FirebaseContext);\n  const [user, setUser] = useState();\n  const [target, setTarget] = useState();\n  const [loading, setLoading] = useState(true);\n  const [show, setShow] = useState(true);\n  firebase.auth.onAuthStateChanged(user => {\n    if (user) {\n      setUser(user);\n    } else {\n      setUser(null);\n    }\n  });\n\n  const handleClick = () => {\n    firebase.db.collection('user').doc(user.uid).update({\n      friends: firebase.fb.firestore.FieldValue.arrayUnion(props.id)\n    }).then(function () {\n      firebase.db.collection('user').doc(props.id).update({\n        friends: firebase.fb.firestore.FieldValue.arrayUnion(user.uid)\n      });\n    }).then(alert('Friended!')).catch(function (error) {\n      alert(error);\n    });\n  };\n\n  useEffect(() => {\n    firebase.db.collection('user').doc(props.id).get().then(function (doc) {\n      if (!doc.exists) throw 'user not found';\n      setTarget(doc.data());\n      setLoading(false);\n    }).catch(function (error) {\n      alert(error);\n    });\n  }, []);\n  let localDisplay;\n\n  if (!loading) {\n    let genreBuilder = target.genres.map(genre => {\n      return /*#__PURE__*/React.createElement(Badge, {\n        className: \"mr-1\",\n        variant: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 20\n        }\n      }, genre);\n    });\n    localDisplay = /*#__PURE__*/React.createElement(Modal, {\n      show: show,\n      onHide: props.handleHide,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, props.id), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, target.name), \"Genres: \", genreBuilder, \"Instagram: \", target.insta ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 48\n      }\n    }, target.insta) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 72\n      }\n    }, \"N/A\"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 84\n      }\n    }), \"Snapchat: \", target.snap ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 46\n      }\n    }, target.snap) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 69\n      }\n    }, \"N/A\"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 81\n      }\n    })), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: props.handleHide,\n      variant: \"light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, \"Miss yo shot :(\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: handleClick,\n      disabled: !user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, \"Friend!\")));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, localDisplay);\n}\n\nexport default AddFriend;","map":{"version":3,"sources":["/Users/Ethan/Documents/GitHub/Team-Reactor/src/AddFriendModal.js"],"names":["React","useContext","useState","useEffect","FirebaseContext","AuthContext","Link","useHistory","Formik","Form","Field","Card","Modal","Button","Badge","AddFriend","props","firebase","user","setUser","target","setTarget","loading","setLoading","show","setShow","auth","onAuthStateChanged","handleClick","db","collection","doc","uid","update","friends","fb","firestore","FieldValue","arrayUnion","id","then","alert","catch","error","get","exists","data","localDisplay","genreBuilder","genres","map","genre","handleHide","name","insta","snap"],"mappings":"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","sourcesContent":["\nimport React, { useContext, useState, useEffect } from \"react\";\nimport FirebaseContext from './Firebase'\nimport AuthContext from './Firebase/AuthContext'\nimport { Link, useHistory } from 'react-router-dom'\nimport { Formik, Form, Field } from 'formik'\nimport { Card, Modal, Button, Badge } from 'react-bootstrap'\n\nfunction AddFriend(props) { // pass in the user's id and handleHide function\n    const firebase = useContext(FirebaseContext)\n    const [user, setUser] = useState()\n    const [target, setTarget] = useState()\n    const [loading, setLoading] = useState(true)\n    const [show, setShow] = useState(true)\n\n    firebase.auth.onAuthStateChanged(user => {\n        if (user) {\n            setUser(user);\n        } else {\n            setUser(null)\n        }\n    });\n\n    const handleClick = () => {\n        firebase.db.collection('user').doc(user.uid).update({\n            friends: firebase.fb.firestore.FieldValue.arrayUnion(props.id)\n        }).then(function () {\n            firebase.db.collection('user').doc(props.id).update({\n                friends: firebase.fb.firestore.FieldValue.arrayUnion(user.uid)\n            })\n        }).then(\n            alert('Friended!')\n        ).catch(function (error) {\n            alert(error)\n        })\n    }\n\n    useEffect(() => {\n        firebase.db.collection('user').doc(props.id).get().then(function (doc) {\n            if (!doc.exists) throw 'user not found'\n            setTarget(doc.data())\n            setLoading(false)\n        }).catch(function (error) {\n            alert(error)\n        })\n    }, [])\n\n    \n\n    let localDisplay\n\n    if (!loading) {\n        let genreBuilder = target.genres.map(genre => {\n            return <Badge className=\"mr-1\" variant=\"secondary\">{genre}</Badge>\n          })\n        localDisplay =\n            <Modal show={show} onHide={props.handleHide}>\n                <Modal.Header closeButton>\n                    {props.id}\n                </Modal.Header>\n                <Modal.Body>\n                    <h4>{target.name}</h4>\n                    Genres: {genreBuilder}\n                    Instagram: {target.insta ? <p>{target.insta}</p> : <p>N/A</p>} <br />\n                    Snapchat: {target.snap ? <p>{target.snap}</p> : <p>N/A</p>} <br />\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button onClick={props.handleHide} variant=\"light\">Miss yo shot :(</Button>\n                    <Button onClick={handleClick} disabled={!user}>Friend!</Button>\n                </Modal.Footer>\n            </Modal>\n    }\n\n    return (\n        <>\n            {localDisplay}\n        </>\n    )\n}\n\nexport default AddFriend"]},"metadata":{},"sourceType":"module"}